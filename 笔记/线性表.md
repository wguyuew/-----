# 线性表

## 一.什么是线性表

###  1.定义

由同类型数据元素构成有序序列的线性结构

+ 表中元素的个数称为线性表的长度
+ 线性表没有元素时，称为空表
+ 表起始位置称表头，表结束位置称表尾

### 2.抽象数据类型的描述

+ 类型名称：线性表（List)

+ 数据对象集：线性表是n个元素构成的有序序列

+ 操作集：线性表L=List:整数i表示位置，元素X∈Element Type,线性表的操作有

  ```c
  List MakeEmpty(); //初始化一个空链表
  
  ElementType FindKth(int K, List L); //根据位序K，返回相应元素
  
  int Find(ElementType X,List L); //在线性表中查找X的第一次出现位置
  
  void Insert(ElementType X,int i,List L); //在位序i前插入一个新元素X;
  
  void Delete(int i,List L); //删除指定位序i的元素
  
  int Length(List L); //返回线性表L的长度n
  ```

## 二.线性表的线性存储

### 1.定义

利用数组的连续存储空间顺序存放线性表的各元素。

### 2.存储格式

![image-20210224180107884](D:\PEE\408\DataStructure\笔记\线性表.assets\image-20210224180107884.png)

### 3.代码实现

#### 	1.定义表头

```c
typedef struct LNode *List;

struct LNode{
    
    int last; // 线性表最后一个元素的位置
    int data[MaxSize]; // 存储线性表的数据

};

struct LNode L;

List PtrL;
```

#### 2.初始化

```c
//初始化
List MakeEmpty(){
    
    List PtrL;

    PtrL = (List)malloc(sizeof(struct LNode)); //初始化
    
    printf("输入表的最后元素的位置\n");

    int length;

    scanf("%d",&length);

    PtrL->last = length;

    return PtrL;

}
```

#### 3.查找

```c
//查找
int Find(int X, List PtrL){

    int i = 0;

    /*
    *i <= PtrL->last 防止越界
    *PtrL->data[i] != X 查找
    * */
    while(i <= PtrL->last && PtrL->data[i] != X)
        i++;
    
    if(i > PtrL->last) //如果没找到，返回-1
        return -1;  //如果找到，返回位序
    else
        return i;

}
```

#### 4.插入

图解

<img src="D:\PEE\408\DataStructure\笔记\线性表.assets\image-20210224221029286.png" alt="image-20210224221029286" style="zoom:80%;" />

```c
//插入
void Insert(int X,int i,List L){/*i代表 a1,a2,....,ai*/

    if(PtrL->last == MaxSize-1){/*判断表是否满*/
        printf("表满");
        return ;
    }

    if(i < 1 || i > PtrL->last+2){/*判断插入位置是否合法*/
        printf("输入的位置不合法\n");
        return ;
    }

    for (int j = PtrL->last; j > i-1; j--)/*数据后移*/
        PtrL->data[j+1] = PtrL->data[j];
    
    PtrL->data[i] = X;/*插入*/
    PtrL->last++; /*表长加1*/

    return ;
    
}
```

#### 5.删除

图解

<img src="D:\PEE\408\DataStructure\笔记\线性表.assets\image-20210224221436420.png" alt="image-20210224221436420" style="zoom:80%;" />

```d
//删除
void Delete(int i,List L){/*i代表 a1,a2,....,ai*/

    if(i < 1 || i > PtrL->last+2){/*判断删除位置是否合法*/
        printf("输入的位置不合法\n");
        return ;
    }

    for (int j = i; j <= PtrL->last; j++)
        PtrL->data[j] = PtrL->data[j+1];

    PtrL->last--;
    return ;

}
```

#### 4.测试代码

```c
#include<stdio.h>
#include<malloc.h>

#define MaxSize 10000

typedef struct LNode *List;

struct LNode{
    
    int last; // 线性表最后一个元素的位置
    int data[MaxSize]; // 存储线性表的数据

};

struct LNode L;

List PtrL;

//初始化
List MakeEmpty(){
    
    List PtrL;

    PtrL = (List)malloc(sizeof(struct LNode)); //初始化
    
    printf("输入表的最后元素的位置\n");

    int length;

    scanf("%d",&length);

    PtrL->last = length;

    return PtrL;

}

//查找
int Find(int X, List PtrL){

    int i = 0;

    /*
    *i <= PtrL->last 防止越界
    *PtrL->data[i] != X 查找
    * */
    while(i <= PtrL->last && PtrL->data[i] != X)
        i++;
    
    if(i > PtrL->last) //如果没找到，返回-1
        return -1;  //如果找到，返回位序
    else
        return i;

}

//插入
void Insert(int X,int i,List L){/*i代表 a1,a2,....,ai*/

    if(PtrL->last == MaxSize-1){/*判断表是否满*/
        printf("表满");
        return ;
    }

    if(i < 1 || i > PtrL->last+2){/*判断插入位置是否合法*/
        printf("输入的位置不合法\n");
        return ;
    }

    for (int j = PtrL->last; j > i-1; j--)/*数据后移*/
        PtrL->data[j+1] = PtrL->data[j];
    
    PtrL->data[i] = X;/*插入*/
    PtrL->last++; /*表长加1*/

    return ;
    
}

//删除
void Delete(int i,List L){/*i代表 a1,a2,....,ai*/

    if(i < 1 || i > PtrL->last+2){/*判断删除位置是否合法*/
        printf("输入的位置不合法\n");
        return ;
    }

    for (int j = i; j <= PtrL->last; j++)
        PtrL->data[j] = PtrL->data[j+1];

    PtrL->last--;
    return ;

}

//输出表的数据
void Display(){
   
    for (int i = 0; i <= PtrL->last; i++){
        printf("%d ",PtrL->data[i]);
    }

    printf("\n");
    
}


int main(){

    PtrL = MakeEmpty();

    printf("输入表的数据\n");
    
    //输入表的值
    for (int i = 0; i <= PtrL->last; i++){
        
        int e; 
        
        scanf("%d",&e);
        
        PtrL->data[i] = e;
    
   }

    int fx; //查找的值
    
    printf("请输入查找的元素\n");
    scanf("%d",&fx);

    printf("查找%d的位置%d\n",fx,Find(fx,PtrL));

    int ix; //插入的值
    int ii; //插入的位置
    printf("请输入插入的元素及位置\n");
    scanf("%d%d",&ix,&ii);
    Insert(ix,ii,PtrL);
    printf("插入后的表\n");
    Display();

    int di; //删除的位置
    printf("请输入删除的元素的位置\n");
    scanf("%d",&di);
    Delete(di,PtrL);
    printf("删除后的表\n");
    Display();

}
```





